let endpointFormDatalitics="https://form.datalitics.com.br",endpointWpDatalitics="https://whatsapp.datalitics.com.br",enpointApi="https://datalitics-api-production.up.railway.app";async function createForms(t){let e=document.querySelectorAll('div[id^="datalitics-form-"]');if(e.length>0){for(let i of e)if(extractHexadecimalForm(i.id)){let a=`${endpointFormDatalitics}/embed/${extractHexadecimalForm(i.id)}${t??""}`,r=await fetch(`${enpointApi}/form/dimension/${extractHexadecimalForm(i.id)}`),o=(await r.json()??0)+"px";var n=document.createElement("iframe");n.setAttribute("src",a),n.setAttribute("class","datalitics-form"),n.height=o;var l=i;l&&l.parentNode.replaceChild(n,l),replaceURLs(`${endpointFormDatalitics}/${extractHexadecimalForm(i.id)}`,`${endpointFormDatalitics}/${extractHexadecimalForm(i.id)}${t}`)}}}function extractHexadecimalForm(t){return t.startsWith("datalitics-form-")?t.replace("datalitics-form-",""):null}function getCookie(t){let e=document.cookie.split(";");for(let i of e){let[a,r]=i.split("=");if(a.trim()===t)return decodeURIComponent(r)}return null}function setCookie(t,e,i){let a=new Date;a.setDate(a.getDate()+i);let r=encodeURIComponent(e)+(i?`; expires=${a.toUTCString()}`:"");document.cookie=`${t}=${r}; path=/`}function replaceURLs(t,e){let i=document.getElementsByTagName("a");for(let a=0;a<i.length;a++){let r=i[a],o=r.href;o.includes(t)&&(r.href=o.replace(t,e))}}async function modifyLinks(){let t=document.querySelectorAll("a"),e=window.location.href,i=e.indexOf("?");var a="";for(let r of(-1!==i&&(a=e.substring(i+1)),a.length>0&&setCookie("params",`?${a}`,1),t))if(a.length>0)(r.getAttribute("href").startsWith(endpointWpDatalitics)||r.getAttribute("href").startsWith(endpointFormDatalitics))&&replaceURLs(`${r.href}`,`${r.href}?${a}`);else{let o=getCookie("params");o&&replaceURLs(`${r.href}`,`${r.href}${o}`)}}function createWPDatalitics(){if(codeWpLink&&endpointWpDatalitics){var t=document.createElement("div");t.className="wp-datalitics",t.onclick=function(){let t=getCookie("params");t?window.location.replace(`${endpointWpDatalitics}/${codeWpLink}${t}&isWpButtom=true`):window.location.replace(`${endpointWpDatalitics}/${codeWpLink}?isWpButtom=true`)},document.body.appendChild(t)}}document.addEventListener("DOMContentLoaded",()=>{let t=window.location.href,e=t.indexOf("?");var i="";if(-1!==e&&(i=t.substring(e+1)),i.length>0)setCookie("params",`?${i}`,1),createForms(`?${i}`);else{let a=getCookie("params");a?createForms(a):createForms()}}),document.addEventListener("DOMContentLoaded",()=>modifyLinks()),document.addEventListener("DOMContentLoaded",createWPDatalitics)